<!-- <odoo>
  <template id="s_dynamic_snippet_categories" name="Categories">
    <t t-call="website.s_dynamic_snippet_template">
      <t t-set="snippet_name" t-value="'s_dynamic_snippet_categories'"/>
      <t t-set="default_design_classes" t-value="'o_wsale_products_opt_layout_catalog o_wsale_products_opt_thumb_cover'"/>
      <t t-set="snippet_classes" t-value="'s_dynamic_snippet_categories oe_website_sale ' + default_design_classes"/>
      <t t-set="main_page_url" t-value="'/shop/category'"/>
      <t t-call="advance_theme_custom.s_dynamic_snippet_categories_preview_data"/>
    </t>
  </template>
</odoo> -->

<odoo>
  <template id="s_dynamic_snippet_categories" name="Categories">
    <t t-call="website.s_dynamic_snippet_template">
      <t t-set="snippet_name" t-value="'s_dynamic_snippet_categories'"/>

      <t
        t-set="default_design_classes"
        t-value="request and request.env['website'].get_current_website().shop_opt_products_design_classes or ''"
      />
      <t
        t-if="'o_wsale_products_opt_layout_catalog' not in default_design_classes"
        t-set="default_design_classes"
        t-value="'o_wsale_products_opt_name_color_regular 
                  o_wsale_products_opt_thumb_cover o_wsale_products_opt_img_secondary_show
                  o_wsale_products_opt_img_hover_zoom_out_light o_wsale_products_opt_cc1
                  o_wsale_products_opt_rounded_2 o_wsale_products_opt_layout_catalog
                  o_wsale_products_opt_design_thumbs o_wsale_products_opt_has_description
                  o_wsale_products_opt_name_size_body o_wsale_products_opt_actions_onhover
                  o_wsale_products_opt_wishlist_fixed o_wsale_products_opt_actions_theme
                  o_wsale_products_opt_has_cta'"
      />
      <t t-set="snippet_classes" t-value="'s_dynamic_snippet_categories oe_website_sale ' + default_design_classes"/>
      <t t-set="main_page_url" t-value="'/shop/category'"/>

      <!-- Activar modo dinámico -->
      <section class="s_dynamic_snippet_categories s_dynamic_snippet_products o_wsale_products s_dynamic pt32 pb32 o_colored_level"
               data-name="Categories Carousel"
               data-template-key="advance_theme_custom.dynamic_filter_template_category_item"
               data-model-name="product.public.category"
               data-field-image="image_1920"
               data-field-name="name"
               data-category-ids="[]"
               data-number-of-records="8"
               data-carousel-interval="5000"
               data-carousel-slide-by="1">
        <div class="container">
          <div class="row s_nb_column_fixed">
            <section class="s_dynamic_snippet_content oe_unremovable oe_unmovable o_not_editable col o_colored_level">
              <div class="dynamic_snippet_template"></div>
            </section>
          </div>
        </div>
      </section>

      <!-- Vista previa estática -->
      <t t-call="advance_theme_custom.s_dynamic_snippet_categories_preview_data"/>
    </t>
  </template>
</odoo>
