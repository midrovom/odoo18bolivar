<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="template_header_style_4_inherit_dropdown"
          inherit_id="theme_prime.template_header_style_4"
          name="Header Style - 4 Dropdown User">

    <!-- Reemplazamos el bloque del usuario -->
    <xpath expr="//div[contains(@class,'tp-account-info')]//div[contains(@class,'col-auto')][.//i[contains(@class,'dri-user')]]"
           position="replace">

        <div class="col-auto my-1 dropdown">
            <a href="#" class="tp-account-info-sidebar-action dropdown-toggle" 
               id="dropdownUserMenu" data-bs-toggle="dropdown" aria-expanded="false">
                <!-- Icono caret “v” -->
                <i class="bi bi-caret-down-fill"></i>
            </a>

            <!-- Menú desplegable -->
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUserMenu">
                <!-- Si es público: Register | Login -->
                <li t-if="user_id._is_public()">
                    <a class="dropdown-item" href="/web/signup">Register</a>
                </li>
                <li t-if="user_id._is_public()">
                    <a class="dropdown-item" href="/web/login">Login</a>
                </li>

                <!-- Si está logueado: My Account -->
                <li t-if="not user_id._is_public()">
                    <a class="dropdown-item" href="/my/home">My Account</a>
                </li>
                <li t-if="not user_id._is_public()">
                    <a class="dropdown-item" href="/web/session/logout">Logout</a>
                </li>
            </ul>
        </div>
    </xpath>
</template>

</odoo>
