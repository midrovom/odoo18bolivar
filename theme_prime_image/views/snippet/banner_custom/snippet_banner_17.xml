<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="s_banner_17_snippet" inherit_id="theme_prime.snippets" name="Banner - 17 Registry">
    <xpath expr="//t[@t-snippet='theme_prime.s_banner_15']" position="after">
      <t t-call="theme_prime_image.s_banner_17_template"
         string="Banner - 17"
         group="theme_prime_banner"
         t-thumbnail="/theme_prime_image/static/src/img/snippets/brands_thumb.png"
         data-snippet-option-class="BannerSliderOptions">
        <keywords>banner, brands, carrusel</keywords>
      </t>
    </xpath>
  </template>

  <template id="s_banner_17_template" name="Banner - 17 (Marcas destacadas)">
    <section class="s_banner_17 s_featured_brands o_snippet">
      <div class="container text-center">
        <div class="linea-con-texto mb-3">
          <span class="texto">Marcas destacadas</span>
        </div>

        <!-- Slider en mÃ³vil -->
        <div class="swiper-container d-md-none">
          <div class="swiper-wrapper">
            <t t-set="brand_attr"
              t-value="request.env['product.attribute'].sudo().search([('name','=','Marca')], limit=1)"/>
            <t t-foreach="brand_attr.value_ids" t-as="brand" t-key="brand.id">
              <div class="swiper-slide">
                <a t-att-href="'/shop?attrib=%s-%s' % (brand.attribute_id.id, brand.id)"
                   class="brand-link">
                  <span class="brand-name"><t t-esc="brand.name"/></span>
                </a>
              </div>
            </t>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>

        <div class="brands-row d-none d-md-flex flex-wrap justify-content-between align-items-center">
          <t t-foreach="brand_attr.value_ids" t-as="brand" t-key="brand.id">
            <a t-att-href="'/shop?attrib=%s-%s' % (brand.attribute_id.id, brand.id)"
               class="brand-link">
              <span class="brand-name"><t t-esc="brand.name"/></span>
            </a>
          </t>
        </div>

        <hr class="linea mt-3"/>
      </div>
    </section>
  </template>
</odoo>
